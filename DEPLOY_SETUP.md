# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –°–æ–∑–¥–∞–µ–º SSH –∫–ª—é—á –¥–ª—è –¥–µ–ø–ª–æ—è
ssh-keygen -t ed25519 -C "github-actions-deploy" -f ~/.ssh/github_deploy

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ authorized_keys
cat ~/.ssh/github_deploy.pub >> ~/.ssh/authorized_keys

# –í—ã–≤–æ–¥–∏–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é!)
cat ~/.ssh/github_deploy
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã** - –æ—Ç `-----BEGIN` –¥–æ `-----END`

---

## –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)

```bash
pip3 install requests PyNaCl
```

---

## –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤

```bash
cd /home/ubuntu/vkusvill-mcp-bot
python3 scripts/setup_secrets.py
```

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏:

1. **–í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**: `maddness` (–Ω–∞–∂–º–∏—Ç–µ Enter)
2. **–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**: `vkusvill-mcp-bot` (–Ω–∞–∂–º–∏—Ç–µ Enter)
3. **GitHub Token**: –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à Personal Access Token (–ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ https://github.com/settings/tokens)
4. **SERVER_HOST**: IP –∞–¥—Ä–µ—Å —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
5. **SERVER_USER**: `ubuntu` (–Ω–∞–∂–º–∏—Ç–µ Enter)
6. **SERVER_PORT**: `22` (–Ω–∞–∂–º–∏—Ç–µ Enter)
7. **SSH_PRIVATE_KEY**: –≤—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ –®–∞–≥–∞ 1, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ Ctrl+D

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–ª—É—á–∏—Ç –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ó–∞—à–∏—Ñ—Ä—É–µ—Ç –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã
- –ó–∞–≥—Ä—É–∑–∏—Ç –∏—Ö –≤ GitHub

---

## –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å PR –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å

```bash
# –°–±—Ä–æ—Å–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git restore .

# –°–æ–∑–¥–∞—Ç—å feature-–≤–µ—Ç–∫—É
git checkout -b feature/setup-ci-cd

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
git add .github/workflows/deploy.yml DEPLOYMENT.md DEPLOY_SETUP.md scripts/setup_secrets.py

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git commit -m "feat: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

- –î–æ–±–∞–≤–ª–µ–Ω GitHub Actions workflow –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
- –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ API
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ"

# –ó–∞–ø—É—à–∏—Ç—å
git push -u origin feature/setup-ci-cd

# –°–æ–∑–¥–∞—Ç—å PR
gh pr create --title "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è" \
  --body "–ù–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–ª–Ω—ã–π CI/CD pipeline –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞—Å–∫–∞—Ç–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ merge –≤ main"
```

---

## –®–∞–≥ 5: –°–º–µ—Ä–∂–∏—Ç—å PR –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–µ–ø–ª–æ–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ PR –Ω–∞ GitHub
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –°–º–µ—Ä–∂–∏—Ç–µ –≤ main
4. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–µ–ø–ª–æ–π!

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: https://github.com/maddness/vkusvill-mcp-bot/actions

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –º–µ—Ä–¥–∂–∞ –≤ main –∫–∞–∂–¥—ã–π —Ä–∞–∑ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—É–ª–ª–∏—Ç—å—Å—è –Ω–æ–≤—ã–π –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å—Å—è Docker –æ–±—Ä–∞–∑
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–æ—Ç

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /home/ubuntu/vkusvill-mcp-bot
podman-compose logs -f
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –¢–æ–∫–µ–Ω GitHub —É–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏ –∏–º–µ–µ—Ç –Ω—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∞
- SSH –∫–ª—é—á —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –¥–µ–ø–ª–æ—è
- –°–µ–∫—Ä–µ—Ç—ã —à–∏—Ñ—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ GitHub
- –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

1. **–û—à–∏–±–∫–∞ "401 Unauthorized"**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω GitHub
2. **–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–µ–∫—Ä–µ—Ç–æ–≤**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞ (–¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å `repo` scope)
3. **–î–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ https://github.com/maddness/vkusvill-mcp-bot/settings/secrets/actions
4. **SSH –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `~/.ssh/authorized_keys`

